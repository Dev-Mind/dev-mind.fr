<!DOCTYPE html>
<html lang="fr">
<head>
    <link rel="preload" href="../../css/blog.css" as="style" onload="this.rel='stylesheet'">
    <link rel="preload" href="../../css/bloglist.css" as="style" onload="this.rel='stylesheet'">
    <link rel="preload" href="../../js/blog.js" as="script">
    {{> _html_header baseuri='../../'}}
</head>
<body class="dev-mind">
{{> _page_header baseuri='../../'}}
<main>
    <div class="dm-block--blog">


        <devmind-article>
            {{#modedev}}
                <h2>MODE DEV</h2>
            {{/modedev}}
            <article>
                <h1 class="dm-blog--info-title">{{ title }}</h1>
                <div class="dm-blog--info-date">
                    <small><b>{{ revdate }}</b></small>
                    <small id="nbview"></small>
                </div>
                <div id="blog-keywords" class="blog-keywords">
                    {{#keywords}}
                        <span class="dm-blog--keyword-detail"><small>{{.}}</small></span>&nbsp;
                    {{/keywords}}
                </div>
                <div class="dm-blog--content">
                    {{{ contents }}}
                </div>
            </article>

            <div class="btn-group">
                <div class="btn-group--element">
                    <button onclick="blog.sendSocial('twitter', 'https://www.dev-mind.fr/blog/{{dir}}/{{filename}}.html', '{{ title }}')"
                            class="btn-inverse">
                        <img src="../../img/contact/twitter.svg" alt="Twitter" class="dm-social"></button>
                    <button onclick="blog.sendSocial('google+', 'https://www.dev-mind.fr/blog/{{dir}}/{{filename}}.html', '{{ title }}')"
                            class="btn-inverse">
                        <img src="../../img/contact/googlep.svg" alt="Github" class="dm-social"></button>
                    <button onclick="blog.sendSocial('facebook', 'https://www.dev-mind.fr/blog/{{dir}}/{{filename}}.html', '{{ title }}')"
                            class="btn-inverse">
                        <img src="../../img/contact/facebook.svg" alt="Facebook" class="dm-social"></button>
                    <button onclick="blog.sendSocial('linkedin', 'https://www.dev-mind.fr/blog/{{dir}}/{{filename}}.html', '{{ title }}')"
                            class="btn-inverse">
                        <img src="../../img/contact/linkedin.svg" alt="Linkedin" class="dm-social"></button>
                </div>
            </div>

            <br>
            <div id="previous-blogpost">
                <div class="dm-blog--previous">
                    {{#previous}}
                        Article précédent : <a
                            href="../{{dir}}/{{filename}}.html">{{doctitle}}</a><br>
                    {{/previous}}
                    {{#next}}
                        Article suivant : <a href="../{{dir}}/{{filename}}.html">{{doctitle}}</a>
                    {{/next}}
                </div>
            </div>
            <div class="dm-blog-comment--add">
                <h2>Commentaires</h2>
                <div id="comments"></div>
                <article>
                    <h3><button class="btn" onclick="blog.displayCommentForm()">Ajouter un commentaire</button></h3>
                    <form name="comment" id="commentFrm" style="display: none">
                            <textarea class="dm-blog-comment--control" required name="comment" rows="6"
                                      onchange="blog.onFormCommentChange()"></textarea>
                        <label for="name"><b>Prénom</b></label>
                        <input class="dm-blog-comment--control" required id="name" name="name" type="text"
                               onchange="blog.onFormCommentChange()">
                        <label for="mail">Mail</label>
                        <input class="dm-blog-comment--control" id="mail" name="mail" type="email"
                               placeholder="identifiant@fournisseur.com" pattern=".+@.+.com"
                               onchange="blog.onFormCommentChange()">
                        <small>Le mail n'est jamais affiché et me sert uniquement à vous contacter pour répondre
                            à
                            vos
                            questions
                        </small>
                        <br>
                        <button type="button" class="btn-inverse" onclick="blog.saveComment('{{filename}}', {{modedev}})"
                                id="saveComments"
                                style="margin-top: 1em" disabled="true">Envoyer
                        </button>
                    </form>
                </article>
            </div>
        </devmind-article>
    </div>
    {{> _page_footer baseuri='../../'}}
</main>
{{> _html_footer baseuri='../../'}}
<script src="https://www.gstatic.com/firebasejs/4.0.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/4.0.0/firebase-database.js"></script>
<script src="../../js/blog.js">
    blog = true;
</script>
<script>
    window.addEventListener("load", function () {
        blog.init('{{filename}}', {{modedev}});
    });
</script>
</body>
</html>
